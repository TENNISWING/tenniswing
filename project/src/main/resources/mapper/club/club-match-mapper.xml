<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.tenniswing.project.club.mapper.ClubMatchMapper">


<!-- 클럽매치 인원모집 등록 -->
  <insert id="insertMatchRecruit" parameterType="clubMatchVO">
  	<selectKey keyProperty="clubMatchRecruitNo" resultType="int" order="BEFORE">
  		SELECT NVL(MAX(CLUB_MATCH_RECRUIT_NO),0)+1
  		FROM club_match_recruit
  	</selectKey>
  	INSERT INTO club_match_recruit
  		(
  		   CLUB_MATCH_RECRUIT_NO
  		   , CLUB_MATCH_DATE
  		   , CLUB_MATCH_RECRUIT_PSN_NUM
  		   , CLUB_NO
  		   , MATCH_RECRUIT_WRITE_DATE
  		   , RECRUIT_STATE
  		   , DIV
  		)
  		VALUES
  		(
  			#{clubMatchRecruitNo}
  			,#{clubMatchDate}
  			, #{clubMatchRecruitPsnNum}
  			, #{clubNo}
  			, SYSDATE
  			, 'l2'
  			, 'bf1'
   		)
  </insert>
</mapper>