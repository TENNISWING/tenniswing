<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/host/host-layout}">

<th:block layout:fragment="hostcontent">

	<div class="page-content">
		<!-- Main__container Start-->
		<div class="main__container">
			<!-- Main Inner Wrapper Start -->
			<div class="main__inner--wrapper" style="padding: 40px 0;">
				<!-- Basic Tables start -->
				<div class="row">
					<div class="col-12">
						<div class="dashboard__breadcrumb">
							<div class="breadcrumb__meta">
								<ul style="padding: 0">
									<li><a href="hostCourtList" class="link"><i
											class="fa-solid fa-arrow-left me-2"></i> Back</a></li>
								</ul>
							</div>
						</div>
						<div class="dashboard__header">
							<div class="d__header--left">
								<h2 class="title">코트 상세 내역</h2>
							</div>
						</div>
						<!-- <div class="card-header" style="overflow: hidden">
							<div class="page-heading">
								<h3>코트 상세 내역</h3>
							</div>
						</div> -->
						<section class="section">
							<div class="card">
								<div class="card-body">
		
									<div class="container">
										<!-- 코트 사진 -->
										<div style="display: flex;">
											<div class="col-md-6 col-12">
												<div class="card">
													<div class="card-body">
														<div id="carouselExampleCaptions" class="carousel slide"
															data-bs-ride="carousel">
															<ol class="carousel-indicators">
																<th:block th:each="num, stat : ${courtDetail.attachList}">
																	<li data-bs-target="#carouselExampleCaptions"
																		th:data-bs-slide-to="${stat.index}" class="indicators"></li>
																</th:block>
																<!-- <li data-bs-target="#carouselExampleCaptions"
												data-bs-slide-to="1"></li>
											<li data-bs-target="#carouselExampleCaptions"
												data-bs-slide-to="2"></li>
											<li data-bs-target="#carouselExampleCaptions"
												data-bs-slide-to="3"></li>
											<li data-bs-target="#carouselExampleCaptions"
												data-bs-slide-to="4"></li> -->
															</ol>
															<div class="carousel-inner">
																<!-- <div class="carousel-item active">
												<img src="./assets/compiled/png/1.png" class="d-block w-100"
													alt="..." style="object-fit: cover;">
												<div class="carousel-caption d-none d-md-block">
													<h5>First slide label</h5>
													<p>Nulla vitae elit libero, a pharetra augue mollis
														interdum.</p>
												</div>
											</div> -->
																<th:block
																	th:each="courtDetail, stat : ${courtDetail.attachList}">
																	<div class="carousel-item">
																		<img th:src="${courtDetail.attachPath}"
																			class="d-block w-100" alt="..."
																			style="object-fit: cover;">
																		<div class="carousel-caption d-none d-md-block">
																			<h5>Second slide label</h5>
																			<p>Nulla vitae elit libero, a pharetra augue mollis
																				interdum.</p>
																		</div>
																	</div>
																</th:block>
																<script th:inline="javascript">
												$('.carousel-item').eq(0).addClass('active');
												$('.indicators').eq(0).addClass('active');
											</script>
																<!-- <div class="carousel-item">
												<img src="./assets/compiled/png/3.png" class="d-block w-100"
													alt="..." style="object-fit: cover;">
												<div class="carousel-caption d-none d-md-block">
													<h5>Third slide label</h5>
													<p>Nulla vitae elit libero, a pharetra augue mollis
														interdum.</p>
												</div>
											</div> -->
															</div>
															<a class="carousel-control-prev"
																href="#carouselExampleCaptions" role="button"
																data-bs-slide="prev"> <span
																class="carousel-control-prev-icon" aria-hidden="true"></span>
																<span class="visually-hidden">Previous</span>
															</a> <a class="carousel-control-next"
																href="#carouselExampleCaptions" role="button"
																data-bs-slide="next"> <span
																class="carousel-control-next-icon" aria-hidden="true"></span>
																<span class="visually-hidden">Next</span>
															</a>
														</div>
													</div>
												</div>
											</div>
											<!-- 코트정보 -->
											<div class="col-md-6 col-12">
												<div class="card">
													<div class="card-content">
														<div class="card-body">
															<!-- <form class="form form-horizontal"> -->
															<div class="form-body">
																<div class="row">
																	<div class="col-md-4">
																		<label for="first-name-horizontal">코트장 번호</label>
																	</div>
																	<div class="col-md-8 form-group">
																		<input type="number" id="crtroomNo" class="form-control"
																			th:value="${param.crtroomNo}">
																	</div>
																	<div class="col-md-4">
																		<label for="first-name-horizontal">코트장 이름</label>
																	</div>
																	<div class="col-md-8 form-group">
																		<input type="text" id="crtroomName" class="form-control"
																			th:value="${courtDetail.crtroomName}" readonly>
																	</div>
																	<div class="col-md-4">
																		<label for="email-horizontal">코트장 위치</label>
																	</div>
																	<div class="col-md-8 form-group">
																		<input type="text" id="crtroomLocation"
																			class="form-control"
																			th:value="${courtDetail.crtroomLocation}" readonly>
																	</div>
																	<div class="col-md-4">
																		<label for="contact-info-horizontal">운영 시간</label>
																	</div>
																	<div class="col-md-8 form-group"
																		style="text-align: center;">
																		<input type="text" id="crtroomOperateStartTime"
																			class="form-control"
																			th:value="${courtDetail.crtroomOperateStartTime}"
																			style="width: 165px; float: left" readonly>
																		<div style="display: inline-block">~</div>
																		<input type="text" id="crtroomOperateEndTime"
																			class="form-control"
																			th:value="${courtDetail.crtroomOperateEndTime}"
																			style="width: 165px; float: right" readonly>
																	</div>
																	<div class="col-md-4">
																		<label for="email-horizontal">코트장 설명</label>
																	</div>
																	<div class="col-md-8 form-group">
																		<textarea id="crtroomExp" rows="3" class="form-control"
																			readonly>
														[[ ${courtDetail.crtroomExp} ]]
													</textarea>
																	</div>
																	<div class="col-md-4">
																		<label for="password-horizontal">주의사항</label>
																	</div>
																	<div class="col-md-8 form-group">
																		<textarea id="crtroomCaution" rows="3"
																			class="form-control" readonly>
														[[ ${courtDetail.crtroomCaution} ]]
													</textarea>
																	</div>
																	<div class="col-md-4">
																		<label for="password-horizontal">이용안내</label>
																	</div>
																	<div class="col-md-8 form-group">
																		<textarea id="crtroomUseGuide" rows="3"
																			class="form-control" readonly>
														[[ ${courtDetail.crtroomUseGuide} ]]
													</textarea>
																	</div>
																	<div class="col-md-4">
																		<label for="password-horizontal">환불안내</label>
																	</div>
																	<div class="col-md-8 form-group">
																		<ul style="font-size: 13px;">
																			<li>7일 전 취소시: [[${refundInf.sevenDayBefore}]]% 환불</li>
																			<li>5일 전 취소시: [[${refundInf.fiveDayBefore}]]% 환불</li>
																			<li>3일 전 취소시: [[${refundInf.threeDayBefore}]]% 환불</li>
																			<li>2일 전 ~ 당일: 환불 불가</li>
																			<li>당일 천재지변으로 인해 구장 이용이 불가한 경우
																				[[${refundInf.significant}]]% 환불</li>
																			<li>적용기준: 호우경보, 대설경보, 태풍주의보, 태풍경보</li>
																		</ul>
																	</div>
																	<div class="col-md-4">
																		<label for="password-horizontal">등록일</label>
																	</div>
																	<div class="col-md-8 form-group">
																		<input type="text" id="crtroomRegiDate"
																			class="form-control"
																			th:value="${#dates.format(courtDetail.crtroomRegiDate, 'yyyy년MM월dd일')}"
																			readonly>
																	</div>
																	<div class="col-sm-12 d-flex justify-content-end">
																		<button type="button"
																			th:onclick="|location.href='@{/hosteditCourtroom(crtroomNo=${param.crtroomNo})}'|"
																			class="btn btn-primary me-1 mb-1">코트장 수정하기</button>
																		<!-- <button type="button" th:onclick="|location.href='@{/deleteCourtroom(crtroomNo=${param.crtroomNo})}'|"
													class="btn btn-primary me-1 mb-1">코트장 삭제하기</button> -->
																		<!-- <button type="reset"
														class="btn btn-light-secondary me-1 mb-1">Reset</button> -->
																	</div>
																</div>
															</div>
															<!-- </form> -->
														</div>
													</div>
												</div>
											</div>
										</div>
										<!-- 코트 상세 내역 -->
										<div class="row product-info">
											<div class="col-12">
												<div class="tabs__wrapper tabs__wrapper--v3">
													<div class="tabs__filter">
														<ul class="nav nav-tabs" id="myTab" role="tablist">
															<th:block
																th:each="courtDetail, stat : ${courtDetail.crtDetailList}">
																<li class="nav-item" role="presentation">
																	<button class="nav-link" id="home-tab"
																		data-bs-toggle="tab" data-bs-target="#home-tab-pane"
																		th:attrappend="data-bs-target=${stat.index}"
																		type="button" role="tab" aria-controls="home-tab-pane"
																		aria-selected="true">[[${stat.index}+1]]코트</button>
																</li>
															</th:block>
															<!-- <li class="nav-item" role="presentation">
										<button class="nav-link" id="groceries-tab" data-bs-toggle="tab"
											data-bs-target="#groceries-tab-pane" type="button" role="tab"
											aria-controls="groceries-tab-pane" aria-selected="false">
											2코트</button>
									</li> -->
															<li class="nav-item" role="presentation">
																<button class="nav-link" id="women-tab"
																	data-bs-toggle="tab" data-bs-target="#women-tab-pane"
																	type="button" role="tab" aria-controls="women-tab-pane"
																	aria-selected="false">후기</button>
															</li>
															<li class="nav-item" role="presentation">
																<button class="nav-link" id="electronics-tab"
																	data-bs-toggle="tab"
																	data-bs-target="#electronics-tab-pane" type="button"
																	role="tab" aria-controls="electronics-tab-pane"
																	aria-selected="false">문의사항</button>
															</li>
														</ul>
													</div>
												</div>
												<div class="tab-content" id="myTabContent">
													<th:block
														th:each="courtDetail, stat : ${courtDetail.crtDetailList}">
														<div class="tab-pane fade firstload" id="home-tab-pane"
															th:attrappend="id=${stat.index}" role="tabpanel"
															aria-labelledby="home-tab" tabindex="0">
															<div class="content__body" style="padding-top: 10px;">
																<div class="col-md-6"
																	style="margin-left: 50px; margin-bottom: 50px; margin-right: 150px; width: 25.5%; display: inline-block; float: left">
																	<h5>날짜 선택</h5>
																	<input type="date"
																		class="form-control flatpickr-always-open"
																		placeholder="Select date..">
																</div>
																<div class="col-md-6"
																	style="width: 75.5; display: inline-block; float: left">
																	<h5>예약 시간 조회</h5>
																	<div style="overflow: hidden">
																		<table>
																			<thead>
																				<tr>
																					<th th:each="num : ${#numbers.sequence(1,10)}"
																						style="background-color: green; width: 50px; height: 30px; border: 3px solid #fff">
																					</th>
																					<th th:each="num1 : ${#numbers.sequence(1,6)}"
																						style="background-color: lightgreen; width: 50px; height: 30px; border: 3px solid #fff">
																					</th>
																				</tr>
																			</thead>
																			<tbody>
																				<tr>
																					<td
																						style="width: 50px; height: 30px; font-size: 10px">9시</td>
																					<td th:each="num2 : ${#numbers.sequence(1,4)}"></td>
																					<td
																						style="width: 50px; height: 30px; font-size: 10px">14시</td>
																					<td th:each="num2 : ${#numbers.sequence(1,4)}"></td>
																					<td
																						style="width: 50px; height: 30px; font-size: 10px">19시</td>
																					<td th:each="num2 : ${#numbers.sequence(1,4)}"></td>
																					<td
																						style="width: 50px; height: 30px; font-size: 10px">24시</td>
																				</tr>
																			</tbody>
																		</table>
																		<table style="float: right">
																			<tbody>
																				<tr>
																					<th
																						style="background-color: green; width: 30px; height: 10px; border: 2px solid #fff">
																					</th>
																					<td
																						style="width: 50px; height: 10px; font-size: 10px">예약불가</td>
																					<th
																						style="background-color: lightgreen; width: 30px; height: 10px; border: 2px solid #fff">
																					</th>
																					<td
																						style="width: 50px; height: 10px; font-size: 10px">예약가능</td>
																				</tr>
																			</tbody>
																		</table>
																	</div>
																	<br>
																	<div class="card">
																		<div class="row">
																			<div class="col-md-4">
																				<label for="first-name-horizontal">코트 이용 단위 시간</label>
																			</div>
																			<div class="col-md-8 form-group">
																				<input type="number" id="first-name-horizontal"
																					class="form-control" name="fname"
																					th:value="${courtDetail.useUnitTime}">
																			</div>
																			<div class="col-md-4">
																				<label for="first-name-horizontal">이용 가격</label>
																			</div>
																			<div class="col-md-8 form-group">
																				<input type="text" id="first-name-horizontal"
																					class="form-control" name="fname"
																					th:value="${courtDetail.crtUsePrice}">
																			</div>
																			<div class="col-md-4">
																				<label for="email-horizontal">실내외</label>
																			</div>
																			<div class="col-md-8 form-group">
																				<!-- <input type="text" id="email-horizontal" class="form-control"
														name="email-id" th:attr="value=${courtDetail.crtIndoorOutdoor == 1 ? '실내' : '실외'}"> -->
																				<input type="text" id="email-horizontal"
																					class="form-control" name="email-id"
																					th:value="${courtDetail.crtIndoorOutdoorName}">
																			</div>
																			<input type="hidden" id="crtDetailNo"
																				th:attrappend="id=${stat.index}" class="form-control"
																				name="fname" th:value="${courtDetail.crtDetailNo}">
																			<div style="text-align: right;">
																				<button type="button"
																					th:onclick="|location.href='@{/hosteditCourtDetail(crtDetailNo=${courtDetail.crtDetailNo})}'|"
																					class="btn btn-primary me-1 mb-1"
																					style="width: 30%; display: inline-block;">[[${stat.index}+1]]코트
																					세부 수정하기</button>
																				<button type="button"
																					class="btn btn-primary me-1 mb-1 crtDetail"
																					id="crtDetailDelete" th:attrappend="id=${stat.index}"
																					style="width: 30%; display: inline-block;">[[${stat.index}+1]]코트
																					세부 삭제하기</button>
																			</div>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</th:block>
													<!-- <div class="tab-pane fade" id="groceries-tab-pane" role="tabpanel"
								aria-labelledby="groceries-tab" tabindex="0">
								<div class="content__body" style="padding-top: 10px;">
									<div class="col-md-6"
										style="margin-left: 50px; margin-bottom: 50px; margin-right: 150px; width: 25.5%; display: inline-block; float: left">
										<h5>날짜 선택</h5>
										<input type="date" class="form-control flatpickr-always-open"
											placeholder="Select date..">
									</div>
									<div class="col-md-6"
										style="width: 75.5; display: inline-block; float: left">
										<h5>예약 시간 조회</h5>
										<div style="overflow: hidden">
											<table>
												<thead>
													<tr>
														<th th:each="num : ${#numbers.sequence(1,10)}"
															style="background-color: green; width: 50px; height: 30px; border: 3px solid #fff">
														</th>
														<th th:each="num1 : ${#numbers.sequence(1,6)}"
															style="background-color: lightgreen; width: 50px; height: 30px; border: 3px solid #fff">
														</th>
													</tr>
												</thead>
												<tbody>
													<tr>
														<td style="width: 50px; height: 30px; font-size: 10px">9시</td>
														<td th:each="num2 : ${#numbers.sequence(1,4)}"></td>
														<td style="width: 50px; height: 30px; font-size: 10px">14시</td>
														<td th:each="num2 : ${#numbers.sequence(1,4)}"></td>
														<td style="width: 50px; height: 30px; font-size: 10px">19시</td>
														<td th:each="num2 : ${#numbers.sequence(1,4)}"></td>
														<td style="width: 50px; height: 30px; font-size: 10px">24시</td>
													</tr>
												</tbody>
											</table>
											<table style="float: right">
												<tbody>
													<tr>
														<th
															style="background-color: green; width: 30px; height: 10px; border: 2px solid #fff">
														</th>
														<td style="width: 50px; height: 10px; font-size: 10px">예약불가</td>
														<th
															style="background-color: lightgreen; width: 30px; height: 10px; border: 2px solid #fff">
														</th>
														<td style="width: 50px; height: 10px; font-size: 10px">예약가능</td>
													</tr>
												</tbody>
											</table>
										</div>
										<br>
										<div class="card">
											<div class="row">
												<div class="col-md-4">
													<label for="first-name-horizontal">코트 이용 단위 시간</label>
												</div>
												<div class="col-md-8 form-group">
													<input type="number" id="first-name-horizontal"
														class="form-control" name="fname">
												</div>
												<div class="col-md-4">
													<label for="first-name-horizontal">이용 가격</label>
												</div>
												<div class="col-md-8 form-group">
													<input type="text" id="first-name-horizontal"
														class="form-control" name="fname">
												</div>
												<div class="col-md-4">
													<label for="email-horizontal">실내외</label>
												</div>
												<div class="col-md-8 form-group">
													<input type="text" id="email-horizontal" class="form-control"
														name="email-id">
												</div>
											</div>
										</div>
									</div>
								</div>
							</div> -->
													<!-- 후기 -->
													<div class="tab-pane fade" id="women-tab-pane"
														role="tabpanel" aria-labelledby="women-tab" tabindex="0">
														<div class="client__review"
															style="padding: 10px; margin-bottom: 50px;">
															<div class="outline"
																style="margin: 30px 0 30px 0; overflow: hidden;">
																<h3 class="sec__title" style="margin: 0; float: left">Comments
																	(2)</h3>
															</div>
															<div class="review__wrapper">
																<div class="review__item">
																	<div class="avatar">
																		<img src="assets/img/shop/teni.jpg" alt="avatar" />
																	</div>
																	<div class="review__content">
																		<div class="review__desc">
																			<div class="review__wrap">
																				<h5>
																					<a href="#">Hena Sinha</a>
																				</h5>
																				<div class="rating">
																					<ul>
																						<li><i class="fa-solid fa-star"></i></li>
																						<li><i class="fa-solid fa-star"></i></li>
																						<li><i class="fa-solid fa-star"></i></li>
																						<li><i class="fa-solid fa-star"></i></li>
																						<li><i class="fa-regular fa-star"></i></li>
																					</ul>
																				</div>
																			</div>
																			<div class="date">18 Jun 2022</div>
																		</div>
																		<div class="review__para">
																			<p>There are many variations of passages of Lorem
																				Ipsum available, but the majority have thank you
																				suffered alteration in some form, by injected humour,
																				or randomised words which don't look.</p>
																		</div>
																	</div>
																</div>
																<div class="review__item">
																	<div class="avatar">
																		<img src="assets/img/shop/teni.jpg" alt="avatar" />
																	</div>
																	<div class="review__content">
																		<div class="review__desc">
																			<div class="review__wrap">
																				<h5>
																					<a href="#">Brenna Das</a>
																				</h5>
																				<div class="rating">
																					<ul>
																						<li><i class="fa-solid fa-star"></i></li>
																						<li><i class="fa-solid fa-star"></i></li>
																						<li><i class="fa-solid fa-star"></i></li>
																						<li><i class="fa-solid fa-star"></i></li>
																						<li><i class="fa-regular fa-star"></i></li>
																					</ul>
																				</div>
																			</div>
																			<div class="date">18 Jun 2022</div>
																		</div>
																		<div class="review__para">
																			<p>There are many variations of passages of Lorem
																				Ipsum available, but the majority have thank you
																				suffered alteration in some form, by injected humour,
																				or randomised words which don't look.</p>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<div class="tab-pane fade" id="electronics-tab-pane"
														role="tabpanel" aria-labelledby="electronics-tab"
														tabindex="0">
														<div class="content__body">
															<p>Lorem ipsum dolor sit amet consectetur adipisicing
																elit. Numquam, placeat quibusdam. Reiciendis veritatis
																facere, perspiciatis unde nostrum hic deleniti, optio
																quibusdam quae repellendus laboriosam aut perferendis quis
																dolore, deserunt illo animi quod tempora adipisci
																consequatur enim! Aspernatur corporis provident, iusto
																laborum vero libero similique debitis inventore repellat
																doloribus. Neque, ipsam!</p>
														</div>
													</div>
												</div>
											</div>
										</div>
										<div style="text-align: center;">
											<button type="button"
												th:onclick="|location.href='@{/hostregisterCourtDetail(crtroomNo=${param.crtroomNo})}'|"
												class="btn btn-primary me-1 mb-1">코트장 내의 코트 추가하기</button>
											<button type="button"
												th:onclick="|location.href='@{/hostCourtList}'|"
												class="btn btn-primary me-1 mb-1">목록보기</button>
										</div>
									</div>
		
								</div>
							</div>
						</section>
					</div>
				</div>
			</div>
		</div>
		<!-- Basic Tables end -->
	</div>


	<script th:inline="javascript">
	$('.crtDetail').on('click',function(e){
		
		Swal.fire({
			  title: "",
			  text: "정말 삭제하시겠습니까?",
			  icon: "warning",
			  showCancelButton: true,
			  confirmButtonColor: "#3085d6",
			  cancelButtonColor: "#d33",
			  confirmButtonText: "Yes, delete it!"
			}).then((result) => {
			  if (result.isConfirmed) {
				console.log($('input[type=hidden]').prop("id").replace("crtDetailNo",""))
				let cnt = $(e.target).prop("id").replace("crtDetailDelete","");
				console.log(cnt);
				let crtDetailNo = Number($('#crtDetailNo'+cnt).val());
				$.ajax({
					type: 'POST',
					url: 'hostdeleteCourtDetail',
					data: {crtDeNo: crtDetailNo},
					dataType: 'json',
					success: function(result){
						if(result){
							Swal.fire({
								  icon: "success",
								  title: "",
								  text: "정상적으로 삭제되었습니다.",
								}).then(function(){
									location.reload();
								})
						}else{
							Swal.fire({
								  icon: "error",
								  title: "",
								  text: "정상적으로 삭제되지 않았습니다. \n정보를 확인해주시기바랍니다.",
								})
						}
					}
				})
	  		}
		});
	})
	/* let msg = [[${result}]]
	if(msg != null) {
		Swal.fire({
			  icon: "error",
			  title: "",
			  text: msg,
			}).then(function(){
				//location.href = window.location.href;
			})
	}
} */
</script>
	<script>
	$(function(){
		$('.nav-link').eq(0).addClass('active');
		$('.firstload').eq(0).addClass('show active');
		console.log('window');
	})
</script>
</th:block>

</html>