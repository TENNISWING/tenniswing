<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/host/host-layout}">
<head>
<link rel="shortcut icon" href="./assets/compiled/svg/favicon.svg"
	type="image/x-icon">
<link rel="shortcut icon"
	href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAiCAYAAADRcLDBAAAEs2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjMzIgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iMzQiCiAgIGV4aWY6Q29sb3JTcGFjZT0iMSIKICAgdGlmZjpJbWFnZVdpZHRoPSIzMyIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMzQiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiCiAgIHRpZmY6WFJlc29sdXRpb249Ijk2LjAiCiAgIHRpZmY6WVJlc29sdXRpb249Ijk2LjAiCiAgIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiCiAgIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjItMDMtMzFUMTA6NTA6MjMrMDI6MDAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjItMDMtMzFUMTA6NTA6MjMrMDI6MDAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgRGVzaWduZXIgMS4xMC4xIgogICAgICBzdEV2dDp3aGVuPSIyMDIyLTAzLTMxVDEwOjUwOjIzKzAyOjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cjw/eHBhY2tldCBlbmQ9InIiPz5V57uAAAABgmlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kc8rRFEUxz9maORHo1hYKC9hISNGTWwsRn4VFmOUX5uZZ36oeTOv954kW2WrKLHxa8FfwFZZK0WkZClrYoOe87ypmWTO7dzzud97z+nec8ETzaiaWd4NWtYyIiNhZWZ2TvE946WZSjqoj6mmPjE1HKWkfdxR5sSbgFOr9Ll/rXoxYapQVik8oOqGJTwqPL5i6Q5vCzeo6dii8KlwpyEXFL519LjLLw6nXP5y2IhGBsFTJ6ykijhexGra0ITl5bRqmWU1fx/nJTWJ7PSUxBbxJkwijBBGYYwhBgnRQ7/MIQIE6ZIVJfK7f/MnyUmuKrPOKgZLpEhj0SnqslRPSEyKnpCRYdXp/9++msneoFu9JgwVT7b91ga+LfjetO3PQ9v+PgLvI1xkC/m5A+h7F32zoLXug38dzi4LWnwHzjeg8UGPGbFfySvuSSbh9QRqZ6H+Gqrm3Z7l9zm+h+iafNUV7O5Bu5z3L/wAdthn7QIme0YAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAJTSURBVFiF7Zi9axRBGIefEw2IdxFBRQsLWUTBaywSK4ubdSGVIY1Y6HZql8ZKCGIqwX/AYLmCgVQKfiDn7jZeEQMWfsSAHAiKqPiB5mIgELWYOW5vzc3O7niHhT/YZvY37/swM/vOzJbIqVq9uQ04CYwCI8AhYAlYAB4Dc7HnrOSJWcoJcBS4ARzQ2F4BZ2LPmTeNuykHwEWgkQGAet9QfiMZjUSt3hwD7psGTWgs9pwH1hC1enMYeA7sKwDxBqjGnvNdZzKZjqmCAKh+U1kmEwi3IEBbIsugnY5avTkEtIAtFhBrQCX2nLVehqyRqFoCAAwBh3WGLAhbgCRIYYinwLolwLqKUwwi9pxV4KUlxKKKUwxC6ZElRCPLYAJxGfhSEOCz6m8HEXvOB2CyIMSk6m8HoXQTmMkJcA2YNTHm3congOvATo3tE3A29pxbpnFzQSiQPcB55IFmFNgFfEQeahaAGZMpsIJIAZWAHcDX2HN+2cT6r39GxmvC9aPNwH5gO1BOPFuBVWAZue0vA9+A12EgjPadnhCuH1WAE8ivYAQ4ohKaagV4gvxi5oG7YSA2vApsCOH60WngKrA3R9IsvQUuhIGY00K4flQG7gHH/mLytB4C42EgfrQb0mV7us8AAMeBS8mGNMR4nwHamtBB7B4QRNdaS0M8GxDEog7iyoAguvJ0QYSBuAOcAt71Kfl7wA8DcTvZ2KtOlJEr+ByyQtqqhTyHTIeB+ONeqi3brh+VgIN0fohUgWGggizZFTplu12yW8iy/YLOGWMpDMTPXnl+Az9vj2HERYqPAAAAAElFTkSuQmCC"
	type="image/png">
<link rel="stylesheet" href="./assets/compiled/css/app.css">
<link rel="stylesheet" href="./assets/compiled/css/app-dark.css">
<link rel="stylesheet" href="./assets/compiled/css/iconly.css">
<style>
	tr:hover td{
		background-color: rgba(234, 241, 247, 0.71);
	}
	body{
		background-color: #f5f5f5;
	}
	*{
		font-family: 'Noto Sans KR', sans-serif !important;
		
	}
</style>
</head>
<th:block layout:fragment="hostcontent">

	<header class="mb-3">
		<a href="#" class="burger-btn d-block d-xl-none"> <i
			class="bi bi-justify fs-3"></i>
		</a>
	</header>

	<div class="page-heading">
		<div class="section-title" style="margin: 0; padding: 0">
			<h2 style="color: #3C3C3C; font-size: 30px;">Main</h2>
		</div>
	</div>
	<div class="page-content">
		<section class="row">
			<div class="col-12 col-lg-9">
				<div class="row">
					<div class="col-6 col-lg-3 col-md-6">
						<div class="card">
							<div class="card-body px-4 py-4-5">
								<div class="row">
									<div
										class="col-md-4 col-lg-12 col-xl-12 col-xxl-5 d-flex justify-content-start ">
										<div class="stats-icon purple mb-2">
											<i class="iconly-boldShow"></i>
										</div>
									</div>
									<div class="col-md-8 col-lg-12 col-xl-12 col-xxl-7">
										<h6 class="text-muted font-semibold">예약금액</h6>
										<h6 class="font-extrabold mb-0" style="color: #3C3C3C">[[${#numbers.formatInteger(hostMonthReserve.monthReservePrice, 3, 'COMMA') + '원'}]]</h6>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-6 col-lg-3 col-md-6">
						<div class="card">
							<div class="card-body px-4 py-4-5">
								<div class="row">
									<div
										class="col-md-4 col-lg-12 col-xl-12 col-xxl-5 d-flex justify-content-start ">
										<div class="stats-icon blue mb-2">
											<i class="iconly-boldProfile"></i>
										</div>
									</div>
									<div class="col-md-8 col-lg-12 col-xl-12 col-xxl-7">
										<h6 class="text-muted font-semibold">예약건수</h6>
										<h6 class="font-extrabold mb-0" style="color: #3C3C3C">[[${hostMonthReserve.monthReserveCount}]]건</h6>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-6 col-lg-3 col-md-6">
						<div class="card">
							<div class="card-body px-4 py-4-5">
								<div class="row">
									<div
										class="col-md-4 col-lg-12 col-xl-12 col-xxl-5 d-flex justify-content-start ">
										<div class="stats-icon green mb-2">
											<i class="iconly-boldAdd-User"></i>
										</div>
									</div>
									<div class="col-md-8 col-lg-12 col-xl-12 col-xxl-7">
										<h6 class="text-muted font-semibold">환불금액</h6>
										<th:block th:if="${hostMonthRefund.monthRefundPrice == 0}">
											<h6 class="font-extrabold mb-0" style="color: #3C3C3C">[[${#numbers.formatInteger(hostMonthRefund.monthRefundPrice, 1, 'COMMA') + '원'}]]</h6>
										</th:block>
										<th:block th:unless="${hostMonthRefund.monthRefundPrice == 0}">
											<h6 class="font-extrabold mb-0" style="color: #3C3C3C">[[${#numbers.formatInteger(hostMonthRefund.monthRefundPrice, 3, 'COMMA') + '원'}]]</h6>
										</th:block>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-6 col-lg-3 col-md-6">
						<div class="card">
							<div class="card-body px-4 py-4-5">
								<div class="row">
									<div
										class="col-md-4 col-lg-12 col-xl-12 col-xxl-5 d-flex justify-content-start ">
										<div class="stats-icon red mb-2">
											<i class="iconly-boldBookmark"></i>
										</div>
									</div>
									<div class="col-md-8 col-lg-12 col-xl-12 col-xxl-7">
										<h6 class="text-muted font-semibold">환불건수</h6>
										<h6 class="font-extrabold mb-0" style="color: #3C3C3C">[[${hostMonthRefund.monthRefundCount}]]건</h6>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-12">
						<div class="card">
							<div class="card-header">
								<div class="section-title" style="margin: 0; padding: 0">
									<h2 style="color: #3C3C3C; font-size: 20px;">월별 매출액</h2>
								</div>
							</div>
							<div class="card-body">
								<div id="chart-profile-visit"></div>
							</div>
						</div>
					</div>
				</div>
				<!-- <div class="row">
					<div class="col-12 col-xl-4">
						<div class="card">
							<div class="card-header">
								<h4>Profile Visit</h4>
							</div>
							<div class="card-body">
								<div class="row">
									<div class="col-7">
										<div class="d-flex align-items-center">
											<svg class="bi text-primary" width="32" height="32"
												fill="blue" style="width: 10px">
                                                        <use
													xlink:href="assets/static/images/bootstrap-icons.svg#circle-fill" />
                                                    </svg>
											<h5 class="mb-0 ms-3">Europe</h5>
										</div>
									</div>
									<div class="col-5">
										<h5 class="mb-0 text-end">862</h5>
									</div>
									<div class="col-12">
										<div id="chart-europe"></div>
									</div>
								</div>
								<div class="row">
									<div class="col-7">
										<div class="d-flex align-items-center">
											<svg class="bi text-success" width="32" height="32"
												fill="blue" style="width: 10px">
                                                        <use
													xlink:href="assets/static/images/bootstrap-icons.svg#circle-fill" />
                                                    </svg>
											<h5 class="mb-0 ms-3">America</h5>
										</div>
									</div>
									<div class="col-5">
										<h5 class="mb-0 text-end">375</h5>
									</div>
									<div class="col-12">
										<div id="chart-america"></div>
									</div>
								</div>
								<div class="row">
									<div class="col-7">
										<div class="d-flex align-items-center">
											<svg class="bi text-danger" width="32" height="32"
												fill="blue" style="width: 10px">
                                                        <use
													xlink:href="assets/static/images/bootstrap-icons.svg#circle-fill" />
                                                    </svg>
											<h5 class="mb-0 ms-3">Indonesia</h5>
										</div>
									</div>
									<div class="col-5">
										<h5 class="mb-0 text-end">1025</h5>
									</div>
									<div class="col-12">
										<div id="chart-indonesia"></div>
									</div>
								</div>
							</div>
						</div>
					</div> -->
				<div class="row">
					<div class="col-12">
						<div class="card">
							<div class="card-header">
								<div class="section-title" style="margin: 0; padding: 0">
									<h2 style="color: #3C3C3C; font-size: 20px;">최근 등록된 후기</h2>
								</div>
							</div>
							<div class="card-body">
								<div class="table-responsive">
									<table class="table table-lg" >
										<thead>
											<tr>
												<th style="color: #333; font-size: 16px;">Court Name</th>
												<th style="color: #333; font-size: 16px;">Comment</th>
												<th style="color: #333; font-size: 16px;">Star</th>
												<!-- <th>Writer</th> -->
												<th style="color: #333; font-size: 16px;">Write Date</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="recentReview : ${recentReview}">
												<td class="col-3">
													<p class="ms-3 mb-0" style="color: #333">[[${recentReview.crtroomName}]]</p>
												</td>
												<td class="col-auto">
													<p class=" mb-0" style="color: #333">[[${recentReview.reviewCtt}]]</p>
												</td>
												<td class="col-auto">
													<p class=" mb-0" style="color: #333">[[${recentReview.reviewStar}]]</p>
												</td>
												<!--  <td class="col-auto">
													<p class=" mb-0">[[${recentReview.memId}]]</p>
												</td> -->
												<td class="col-auto">
													<p class=" mb-0" style="color: #333">[[${#dates.format(recentReview.reviewWriteDate,'yyyy-MM-dd')}]]</p>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-12 col-lg-3">
				<div class="card">
					<div class="card-body py-4 px-4">
						<div class="d-flex align-items-center">
							<div class="avatar avatar-xl">
							<th:block th:if="${hostInfo.attachPath != null}">
								<img src="${hostInfo.attachPath}" alt="Face 1">
							</th:block>
							<th:block th:unless="${hostInfo.attachPath != null}">
								<img src="./assets/img/logo.png" alt="Face 2">
							</th:block>
							</div>
							<div class="ms-3 name">
								<h5 class="font-bold" style="color: #3C3C3C">[[${hostInfo.name}]]</h5>
								<h6 class="text-muted mb-0">[[${hostInfo.memId}]]</h6>
							</div>
						</div>
					</div>
				</div> 
				<div class="card">
					<div class="card-header">
						<div class="section-title" style="margin: 0; padding: 0">
							<h2 style="color: #3C3C3C; font-size: 20px;">오늘의 예약</h2><div class="danger__btn border-30">총 [[${#lists.size(todayReserve)}]]건</div>
						</div>
						
					</div>
					<div class="card-content pb-4">
					<th:block th:each="todayReserve : ${todayReserve}">
						<div class="recent-message d-flex px-4 py-3">
							<div class="name ms-4" style="margin: 0; width: 80%; padding: 3% 3% 3% 3%; box-shadow: 5px 5px 5px #ddd; border-radius: 10px">
								<h5 class="mb-1" style="color: #fc5356; padding: 2%; font-size: 1rem;">[[${todayReserve.crtroomName}]]</h5>
								<h6 class="text-muted mb-0" style="color: #3C3C3C; padding: 1%; font-size: 0.9rem;">[[${#dates.format(todayReserve.reserveDate, 'yyyy-MM-dd')}]]</h6>
								<h6 class="text-muted mb-0" style="padding: 1%; font-size: 0.9rem;">[[${todayReserve.memId}]]</h6>
							</div>
						</div>
					</th:block>
						<div class="px-4">
							<button
								class='btn btn-block btn-xl btn-outline font-bold mt-3'
								onclick="location.href='/reserveList'" style="color: #3C3C3C; border:1px solid #3C3C3C;">
								예약관리</button>
						</div>
					</div>
				</div>
				<div class="card">
					<div class="card-header">
						<div class="section-title" style="margin: 0; padding: 0">
							<h2 style="color: #3C3C3C; font-size: 20px;">총 별점 비율</h2>
						</div>
					</div>
					<div class="card-body">
						<div id="chart-visitors-profile"></div>
					</div>
				</div> 
			</div>
		</section>
	</div>
	<script>
	$(function(){
	let jan = `[[${yearPrice.jan}]]`;
	let feb = `[[${yearPrice.feb}]]`;
	let mar = `[[${yearPrice.mar}]]`;
	let apr = `[[${yearPrice.apr}]]`;
	let may = `[[${yearPrice.may}]]`;
	let jun = `[[${yearPrice.jun}]]`;
	let jul = `[[${yearPrice.jul}]]`;
	let aug = `[[${yearPrice.aug}]]`;
	let sep = `[[${yearPrice.sep}]]`;
	let oct = `[[${yearPrice.oct}]]`;
	let nov = `[[${yearPrice.nov}]]`;
	let dec = `[[${yearPrice.dec}]]`;
	var optionsProfileVisit = {
			  annotations: {
			    position: "back",
			  },
			  dataLabels: {
			    enabled: false,
			  },
			  chart: {
			    type: "bar",
			    height: 300,
			  },
			  fill: {
			    opacity: 1,
			  },
			  plotOptions: {},
			  series: [
			    {
			      name: "sales",
			      data: [jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec],
			    },
			  ],
			  colors: "rgba(77, 152, 114, 1)",
			  xaxis: {
			    categories: [
			      "Jan",
			      "Feb",
			      "Mar",
			      "Apr",
			      "May",
			      "Jun",
			      "Jul",
			      "Aug",
			      "Sep",
			      "Oct",
			      "Nov",
			      "Dec",
			    ],
			  },
			}
	
	var chartProfileVisit = new ApexCharts(
			  document.querySelector("#chart-profile-visit"),
			  optionsProfileVisit
			)
	chartProfileVisit.render()
	
	
	let five = `[[${hostStar.five}]]`;
	let four = `[[${hostStar.four}]]`;
	let three = `[[${hostStar.three}]]`;
	let two = `[[${hostStar.two}]]`;
	let one = `[[${hostStar.one}]]`;
	let sum = five + four + three + two + one;
	
	let optionsVisitorsProfile = {
	  series: [five/sum*100, four/sum*100, three/sum*100, two/sum*100, one/sum*100],
	  labels: ["five", "four", "three", "two", "one"],
	  colors: ["#4d9872", "#7AAC7E", "#A6C18A", "#D3D596", "#FFE9A2"],
	  chart: {
	    type: "donut",
	    width: "100%",
	    height: "350px",
	  },
	  legend: {
	    position: "bottom",
	  },
	  plotOptions: {
	    pie: {
	      donut: {
	        size: "30%",
	      },
	    },
	  },
	};
	
	var chartVisitorsProfile = new ApexCharts(
			  document.getElementById("chart-visitors-profile"),
			  optionsVisitorsProfile
			)
	
	chartVisitorsProfile.render()
	});
	</script>
	<script
		src="assets/extensions/perfect-scrollbar/perfect-scrollbar.min.js"></script>
	<script src="assets/compiled/js/app.js"></script>



	<!-- Need: Apexcharts -->
	<script src="assets/extensions/apexcharts/apexcharts.min.js"></script>
	<!-- <script src="assets/static/js/pages/dashboard.js"></script> -->

</th:block>

</html>